#include <stdio.h>   // ЁЯМЯ standard I/O header include

/*----------------------------------------------------------
 ЁЯФБ subsequence()
 ar2[] ржХрж┐ ar1[]-ржПрж░ subsequence тЖТ recursion ржжрж┐рзЯрзЗ ржпрж╛ржЪрж╛ржЗ
  a  = ar1 size,  b  = ar2 size  
  i  = ar1 index, j  = ar2 index
----------------------------------------------------------*/
int subsequence(int a, int b, int ar1[], int ar2[], int i, int j){
    if (j == b)            return 1;      // тЬЕ ar2-рж░ рж╕ржм element match рж╣рзЯрзЗ ржЧрзЗржЫрзЗ
    if (i == a)            return 0;      // тЭМ ar1 рж╢рзЗрж╖, ржХрж┐ржирзНрждрзБ ar2 ржПржЦржиржУ ржмрж╛ржХрж┐

    if (ar1[i] == ar2[j])                 // ЁЯФН element match рж╣рж▓рзЗ
        return subsequence(a, b, ar1, ar2, i + 1, j + 1); // тЮбя╕П ржжрзБ-index ржПржЧрж┐рзЯрзЗ ржЪрзЗржХ
    else                                   // тЭМ match ржирж╛ рж╣рж▓рзЗ
        return subsequence(a, b, ar1, ar2, i + 1, j);     // тЮбя╕П рж╢рзБржзрзБ ar1 index ржПржЧрж┐рзЯрзЗ
}

int main(){                                
    int a, b;                              // ЁЯУП a = ar1 size, b = ar2 size
    scanf("%d %d", &a, &b);                // ЁЯУе ржжрзБржЯрж┐ рж╕рж╛ржЗржЬ ржЗржиржкрзБржЯ

    int ar1[a];                            // ЁЯЧВя╕П ar1 ржЕрзНржпрж╛рж░рзЗ
    for (int i = 0; i < a; i++)            // ЁЯФБ ar1 ржкрзВрж░ржг
        scanf("%d", &ar1[i]);              // ЁЯУе ржкрзНрж░рждрзНржпрзЗржХ ржорж╛ржи ржЗржиржкрзБржЯ

    int ar2[b];                            // ЁЯЧВя╕П ar2 ржЕрзНржпрж╛рж░рзЗ
    for (int i = 0; i < b; i++)            // ЁЯФБ ar2 ржкрзВрж░ржг
        scanf("%d", &ar2[i]);              // ЁЯУе ржкрзНрж░рждрзНржпрзЗржХ ржорж╛ржи ржЗржиржкрзБржЯ

    if (subsequence(a, b, ar1, ar2, 0, 0)) // ЁЯМЯ subsequence ржлрж╛ржВрж╢ржи ржХрж▓
        printf("YES");                     // тЬЕ subsequence ржорж┐рж▓рзЗржЫрзЗ
    else
        printf("NO");                      // тЭМ subsequence ржорзЗрж▓рзЗржирж┐

    return 0;                              // ЁЯЪА ржкрзНрж░рзЛржЧрзНрж░рж╛ржо рж╢рзЗрж╖
}

/* =====================================================
ЁЯУе Input (ржЙржжрж╛рж╣рж░ржг):
3 2
1 4 7
1 7

ЁЯУд Output:
YES

ЁЯза Short Note:
ржПржЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржоржЯрж┐ ржжрзЗржЦрзЗ ржпрзЗ ar2[] ржЕрзНржпрж╛рж░рзЗржЯрж┐ ar1[]-ржПрж░ subsequence ржХрж┐-ржирж╛ред
Subsequence рж╣рж▓рзЗ order ржЕржХрзНрж╖рзБржгрзНржг ржерж╛ржХрзЗ, ржХрж┐ржирзНрждрзБ contiguous рж╣рждрзЗ рж╣рзЯ ржирж╛ред

тП▒ Time Complexity (TC):  O(a + b)
   тАУ ржкрзНрж░рждрж┐ржЯрж┐ array ржПржХржмрж╛рж░рзЗрж░ ржмрзЗрж╢рж┐ рж╕рзНржХрзНржпрж╛ржи ржХрж░рж╛ рж▓рж╛ржЧрзЗ ржирж╛ред

ЁЯТ╛ Space Complexity (SC): O(a + b)
   тАУ recursion call-stack ржПрж░ ржЧржнрзАрж░рждрж╛ рж╕рж░рзНржмрзЛржЪрзНржЪ a + b рж╕рзНрждрж░ред
===================================================== */
