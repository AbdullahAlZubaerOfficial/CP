#include <stdio.h>      // рж╕рзНржЯрзНржпрж╛ржирзНржбрж╛рж░рзНржб ржЗржи-ржЖржЙржЯржкрзБржЯ рж╣рзЗржбрж╛рж░ ржлрж╛ржЗрж▓ ЁЯУЪ

int main()
{
    int a, b;                              // a = ржкрзНрж░ржержо ржЕрзНржпрж╛рж░рзЗрж░ рж╕рж╛ржЗржЬ, b = ржжрзНржмрж┐рждрзАржпрж╝ ржЕрзНржпрж╛рж░рзЗрж░ рж╕рж╛ржЗржЬ ЁЯФв
    scanf("%d %d", &a, &b);                // ржжрзБржЗржЯрж┐ рж╕рж╛ржЗржЬ ржЗржиржкрзБржЯ ржирзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗ тМия╕П

    int ar1[a];                            // a рж╕рж╛ржЗржЬрзЗрж░ ржкрзНрж░ржержо ржЕрзНржпрж╛рж░рзЗ ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ржХрж░рж╛ рж╣рж▓ ЁЯУж

    for (int i = 0; i < a; i++)            // a ржмрж╛рж░ рж▓рзБржк ржЪрж╛рж▓рж┐ржпрж╝рзЗ рж╕ржм ржорж╛ржи ржЗржиржкрзБржЯ ржирзЗржмрзЛ ЁЯФД
    {
        scanf("%d", &ar1[i]);              // ржкрзНрж░рждрж┐ржЯрж┐ рж╕ржВржЦрзНржпрж╛ ar1-ржП рж░рж╛ржЦрж╛ рж╣ржЪрзНржЫрзЗ ЁЯУЭ
    }

    int ar2[b];                            // b рж╕рж╛ржЗржЬрзЗрж░ ржжрзНржмрж┐рждрзАржпрж╝ ржЕрзНржпрж╛рж░рзЗ ржбрж┐ржХрзНрж▓рзЗржпрж╝рж╛рж░ ЁЯУж

    for (int i = 0; i < b; i++)            // b ржмрж╛рж░ рж▓рзБржк ржЪрж╛рж▓рж┐ржпрж╝рзЗ рж╕ржм ржорж╛ржи ржЗржиржкрзБржЯ ржирзЗржмрзЛ ЁЯФД
    {
        scanf("%d", &ar2[i]);              // ржкрзНрж░рждрж┐ржЯрж┐ рж╕ржВржЦрзНржпрж╛ ar2-рждрзЗ рж░рж╛ржЦрж╛ рж╣ржЪрзНржЫрзЗ ЁЯУЭ
    }

    int j = 0;                             // j = ржжрзНржмрж┐рждрзАржпрж╝ ржЕрзНржпрж╛рж░рзЗрж░ ржЯрж╛рж░рзНржЧрзЗржЯ ржЗржиржбрзЗржХрзНрж╕ ЁЯОп

    /* ржорзВрж▓ рж▓ржЬрж┐ржХ: ar1 ржПржмржВ ar2 ржЯрзНрж░рж╛ржнрж╛рж░рзНрж╕ ржХрж░рж┐тАФ
       ржпржжрж┐ ar1[i] == ar2[j] рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ subsequence ржорж┐рж▓рзЗржЫрзЗ, j++ ржХрж░рж┐ ЁЯШЙ */
    for (int i = 0; i < a && j < b; i++)
    {
        if (ar1[i] == ar2[j])              // ржорж┐рж▓ ржкрзЗрж▓рзЗ тЬЕ
        {
            j++;                           // ржкрж░ржмрж░рзНрждрзА ржПрж▓рж┐ржорзЗржирзНржЯ ржорж┐рж▓рж╛ржирзЛрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржмрзЛ тЮбя╕П
        }
    }

    /* рж╕ржм ржПрж▓рж┐ржорзЗржирзНржЯ ржорж┐рж▓рж▓рзЗ j == b рж╣ржмрзЗред
       ржорж╛ржирзЗ ar2 ржкрзБрж░рзЛржкрзБрж░рж┐ ржкрзНрж░ржержо ржЕрзНржпрж╛рж░рзЗрж░ ржПржХржЯрж┐ subsequence тЬЕ */
    if (j == b)
    {
        printf("YES");                     // рж╕ржорзНржкрзВрж░рзНржг ржорж┐рж▓ ржкрж╛ржУржпрж╝рж╛ ржЧрзЗржЫрзЗ ЁЯОЙ
    }
    else
    {
        printf("NO");                      // subsequence ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐ ЁЯШФ
    }

    return 0;                              // ржкрзНрж░рзЛржЧрзНрж░рж╛ржо рж╕ржлрж▓ржнрж╛ржмрзЗ рж╢рзЗрж╖ тЬЕ
}

/*
Input:
3 2
1 4 7
1 7

Output:
YES

Input:
7 4
1 8 4 7 5 2 7
4 5 7 2

Output:
NO

Input:
3 3
21 8 40
21 8 40

Output:
YES

ЁЯФО Short Note:
тАв ржПржЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржоржЯрж┐ ржЪрзЗржХ ржХрж░рзЗ ржжрзНржмрж┐рждрзАржпрж╝ ржЕрзНржпрж╛рж░рзЗрж░ рж╕ржм ржЙржкрж╛ржжрж╛ржи ржХрж┐ ржкрзНрж░ржержо ржЕрзНржпрж╛рж░рзЗрж░
  ржХрзНрж░ржо ржмржЬрж╛ржпрж╝ рж░рзЗржЦрзЗ ржПржХржЯрж┐ subsequence (рж╕рж╛ржм-ржЕрзНржпрж╛рж░рзЗржЗ)-рж░ ржЕржВрж╢?  
тАв ржжрзБржЗржЯрж┐ ржЕрзНржпрж╛рж░рзЗ ржЗржЯрж╛рж░рзЗржЯ ржХрж░рзЗ ржЯрзБ-ржкржпрж╝рзЗржирзНржЯрж╛рж░ (i, j) ржкржжрзНржзрждрж┐рждрзЗ ржорж┐рж▓рж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ,
  ржпрж╛рждрзЗ рж╕ржоржпрж╝ ржЬржЯрж┐рж▓рждрж╛ O(a + b) ЁЯМЯ  
тАв j рж╢рзЗрж╖ ржкрж░рзНржпржирзНржд b-рждрзЗ ржкрзМржБржЫрж▓рзЗ ржмрзБржЭрж┐ ar2-ржПрж░ рж╕ржм ржПрж▓рж┐ржорзЗржирзНржЯ ржкрж╛ржУржпрж╝рж╛ ржЧрзЗржЫрзЗтАФрждржЦржи тАЬYESтАЭ,
  ржиржЗрж▓рзЗ тАЬNOтАЭред ЁЯШЙ
*/
